{"version":3,"sources":["../../../public/js/create.js"],"names":["token","JSON","parse","localStorage","getItem","apiUrl","createRequest","document","getElementById","addEventListener","e","preventDefault","payload","name","value","email","dept","request","fetch","method","body","headers","Headers","Authorization","then","res","json","data","message","window","location","href","catch","console","error","innerHTML"],"mappings":";;AAAA,IAAMA,QAAQC,KAAKC,KAAL,CAAWC,aAAaC,OAAb,CAAqB,OAArB,CAAX,CAAd;AACA,IAAMC,SAAS,yBAAf;AACA,IAAMC,gBAAgBC,SAASC,cAAT,CAAwB,eAAxB,CAAtB;;AAGA,IAAIR,KAAJ,EAAW;AACTM,gBAAcG,gBAAd,CAA+B,QAA/B,EAAyC,UAACC,CAAD,EAAO;AAC9CA,MAAEC,cAAF;AACA,QAAMC,UAAU;AACdC,YAAMN,SAASC,cAAT,CAAwB,MAAxB,EAAgCM,KADxB;AAEdC,aAAOR,SAASC,cAAT,CAAwB,OAAxB,EAAiCM,KAF1B;AAGdE,YAAMT,SAASC,cAAT,CAAwB,MAAxB,EAAgCM,KAHxB;AAIdG,eAASV,SAASC,cAAT,CAAwB,SAAxB,EAAmCM;AAJ9B,KAAhB;;AAOAI,UAAMb,MAAN,EAAc;AACZc,cAAQ,MADI;AAEZC,sBAAcR,QAAQC,IAAtB,eAAoCD,QAAQG,KAA5C,cAA0DH,QAAQI,IAAlE,iBAAkFJ,QAAQK,OAF9E;AAGZI,eAAS,IAAIC,OAAJ,CAAY;AACnB,wBAAgB,mCADG;AAEnBC,mCAAyBvB;AAFN,OAAZ;AAHG,KAAd,EAQGwB,IARH,CAQQ;AAAA,aAAOC,IAAIC,IAAJ,EAAP;AAAA,KARR,EASGF,IATH,CASQ,UAACG,IAAD,EAAU;AACd,UAAIA,KAAKC,OAAL,KAAiB,EAArB,EAAyB;AACvBC,eAAOC,QAAP,CAAgBC,IAAhB,GAAuB,WAAvB;AACD;AACF,KAbH,EAcGC,KAdH,CAcS;AAAA,aAASC,QAAQC,KAAR,aAAwBA,KAAxB,CAAT;AAAA,KAdT;AAeD,GAxBD;AAyBD,CA1BD,MA0BO;AACL3B,WAASC,cAAT,CAAwB,OAAxB,EAAiC2B,SAAjC;AAKD","file":"create.js","sourcesContent":["const token = JSON.parse(localStorage.getItem('token'));\r\nconst apiUrl = '/api/v1/users/requests/';\r\nconst createRequest = document.getElementById('createRequest');\r\n\r\n\r\nif (token) {\r\n  createRequest.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    const payload = {\r\n      name: document.getElementById('name').value,\r\n      email: document.getElementById('email').value,\r\n      dept: document.getElementById('dept').value,\r\n      request: document.getElementById('request').value,\r\n    };\r\n\r\n    fetch(apiUrl, {\r\n      method: 'POST',\r\n      body: `name=${payload.name}&email=${payload.email}&dept=${payload.dept}&request=${payload.request}`,\r\n      headers: new Headers({\r\n        'Content-Type': 'application/x-www-form-urlencoded',\r\n        Authorization: `Bearer ${token}`,\r\n      }),\r\n    })\r\n      .then(res => res.json())\r\n      .then((data) => {\r\n        if (data.message !== '') {\r\n          window.location.href = 'user.html';\r\n        }\r\n      })\r\n      .catch(error => console.error(`Error: ${error}`));\r\n  });\r\n} else {\r\n  document.getElementById('alert').innerHTML = `\r\n      <p>\r\n            Oops!! You do not have access to this page!!\r\n      </p>\r\n      `;\r\n}\r\n"]}