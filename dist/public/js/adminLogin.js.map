{"version":3,"sources":["../../../public/js/adminLogin.js"],"names":["login","document","getElementById","addEventListener","e","preventDefault","url","payload","email","value","password","myHeaders","Headers","fetch","method","body","headers","then","res","json","data","localStorage","setItem","JSON","stringify","token","parse","getItem","window","location","href","innerHTML","catch","console","error"],"mappings":";;AAAA,IAAMA,QAAQC,SAASC,cAAT,CAAwB,OAAxB,CAAd;;AAEAF,MAAMG,gBAAN,CAAuB,QAAvB,EAAiC,UAACC,CAAD,EAAO;;AAEtCA,IAAEC,cAAF;AACA,MAAMC,MAAM,oBAAZ;AACA,MAAMC,UAAU;AACdC,WAAOP,SAASC,cAAT,CAAwB,OAAxB,EAAiCO,KAD1B;AAEdC,cAAUT,SAASC,cAAT,CAAwB,UAAxB,EAAoCO;AAFhC,GAAhB;;AAKA,MAAIE,YAAY,IAAIC,OAAJ,CAAY;AAC1B,oBAAgB;AADU,GAAZ,CAAhB;;AAIAC,QAAMP,GAAN,EAAW;AACTQ,YAAQ,MADC;AAETC,qBAAeR,QAAQC,KAAvB,kBAAyCD,QAAQG,QAFxC;AAGTM,aAASL;AAHA,GAAX,EAKGM,IALH,CAKQ;AAAA,WAAOC,IAAIC,IAAJ,EAAP;AAAA,GALR,EAMGF,IANH,CAMQ,UAACG,IAAD,EAAU;AACdC,iBAAaC,OAAb,CAAqB,OAArB,EAA8BC,KAAKC,SAAL,CAAeJ,KAAKK,KAApB,CAA9B;;AAEA,QAAMA,QAAQF,KAAKG,KAAL,CAAWL,aAAaM,OAAb,CAAqB,OAArB,CAAX,CAAd;;AAEA,QAAIF,KAAJ,EAAW;AACTG,aAAOC,QAAP,CAAgBC,IAAhB,GAAuB,YAAvB;AACD,KAFD,MAEO;AACL7B,eAASC,cAAT,CAAwB,OAAxB,EAAiC6B,SAAjC,GAA6C,uBAA7C;AACD;AACF,GAhBH,EAiBGC,KAjBH,CAiBS;AAAA,WAASC,QAAQC,KAAR,aAAwBA,KAAxB,CAAT;AAAA,GAjBT;AAkBD,CA/BD","file":"adminLogin.js","sourcesContent":["const login = document.getElementById('login');\r\n\r\nlogin.addEventListener('submit', (e) => {\r\n\r\n  e.preventDefault();\r\n  const url = '/api/v1/auth/login';\r\n  const payload = {\r\n    email: document.getElementById('email').value,\r\n    password: document.getElementById('password').value,\r\n  };\r\n\r\n  let myHeaders = new Headers({\r\n    'Content-Type': 'application/x-www-form-urlencoded',\r\n  });\r\n\r\n  fetch(url, {\r\n    method: 'POST',\r\n    body: `email=${payload.email}&password=${payload.password}`,\r\n    headers: myHeaders,\r\n  })\r\n    .then(res => res.json())\r\n    .then((data) => {\r\n      localStorage.setItem('token', JSON.stringify(data.token));\r\n\r\n      const token = JSON.parse(localStorage.getItem('token'));\r\n\r\n      if (token) {\r\n        window.location.href = 'admin.html';\r\n      } else {\r\n        document.getElementById('alert').innerHTML = 'Authentication failed';\r\n      }\r\n    })\r\n    .catch(error => console.error(`Error: ${error}`));\r\n});\r\n"]}