{"version":3,"sources":["../../../api/middleware/userAuth.js"],"names":["req","res","next","jwt","verify","token","process","env","JWT_KEY","err","decoded","status","json","error","userInfo"],"mappings":";;;;;;AAAA;;;;;;kBAEe,UAACA,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACjCC,yBAAIC,MAAJ,CAAWJ,IAAIK,KAAf,EAAsBC,QAAQC,GAAR,CAAYC,OAAlC,EAA2C,UAACC,GAAD,EAAMC,OAAN,EAAkB;AAC3D,QAAID,GAAJ,EAAS;AACPR,UAAIU,MAAJ,CAAW,GAAX,EACGC,IADH,CACQ;AACJC,eAAO;AADH,OADR;AAID;AACDb,QAAIc,QAAJ,GAAeJ,OAAf;AACD,GARD;AASAR;AACD,C","file":"userAuth.js","sourcesContent":["import jwt from 'jsonwebtoken';\r\n\r\nexport default (req, res, next) => {\r\n  jwt.verify(req.token, process.env.JWT_KEY, (err, decoded) => {\r\n    if (err) {\r\n      res.status(401)\r\n        .json({\r\n          error: 'Authentication failed',\r\n        });\r\n    }\r\n    req.userInfo = decoded;\r\n  });\r\n  next();\r\n};\r\n"]}