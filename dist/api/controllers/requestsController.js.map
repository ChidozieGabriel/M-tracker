{"version":3,"sources":["../../../api/controllers/requestsController.js"],"names":["global","data","id","name","email","date","dept","message","Url","exports","getAllRequests","req","res","length","status","json","end","getSingle","parseInt","params","requestId","i","createRequest","body","push","modifyRequest","deleteRequest","splice"],"mappings":"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","file":"requestsController.js","sourcesContent":["global.data = [\r\n  {\r\n    id: 110,\r\n    name: 'John doe',\r\n    email: 'example@gmail.com',\r\n    date: '2018-10-13',\r\n    dept: 'Accounts',\r\n    message: 'Lorem ipsum ',\r\n    Url: 'http://localhost:5000/api/v1/users/requests/110',\r\n  },\r\n\r\n  {\r\n    id: 120,\r\n    name: 'Jane doe',\r\n    email: 'janedoe@gmail.com',\r\n    date: '2014-1-25',\r\n    dept: 'Engineering',\r\n    message: 'Lorem ipsum Lorem ipsum Lorem',\r\n    Url: 'http://localhost:5000/api/v1/users/requests/120',\r\n  },\r\n  {\r\n    id: 130,\r\n    name: 'Frank Moore',\r\n    email: 'frankmoore@examplemail.me',\r\n    date: '2011-8-1',\r\n    dept: 'Logistics',\r\n    message: 'Lorem ipsum Lorem ipsum Lorem ipsum ',\r\n    Url: 'http://localhost:5000/api/v1/users/requests/130',\r\n  },\r\n];\r\n\r\nexports.getAllRequests = (req, res) => {\r\n  if (global.data.length !== 0) {\r\n    return res.status(200)\r\n      .json({\r\n        status: 'Success',\r\n        data: global.data,\r\n      });\r\n  }\r\n  res.status(204)\r\n    .end();\r\n};\r\n\r\nexports.getSingle = (req, res) => {\r\n  const id = parseInt(req.params.requestId, 10);\r\n  for (let i = 0; i < global.data.length; i += 1) {\r\n    if (global.data[i].id === id) {\r\n      return res.status(200)\r\n        .json({\r\n          status: 'Success',\r\n          data: global.data[i],\r\n        });\r\n    }\r\n  }\r\n  res.status(404)\r\n    .json({\r\n      status: 'fail',\r\n      message: 'Not found',\r\n    });\r\n};\r\n\r\nexports.createRequest = (req, res) => {\r\n  if (typeof req.body.id === 'number') {\r\n    req.body.Url = `http://localhost:5000/api/v1/users/requests/${req.body.id}`;\r\n    global.data.push(req.body);\r\n    return res.status(201)\r\n      .json({\r\n        status: 'Success',\r\n        message: 'Request Created successfully',\r\n      });\r\n  }\r\n  res.status(400)\r\n    .json({\r\n      status: 'Fail',\r\n      message: 'Bad Request',\r\n    });\r\n};\r\n\r\nexports.modifyRequest = (req, res) => {\r\n  const id = parseInt(req.params.requestId, 10);\r\n  for (let i = 0; i < global.data.length; i += 1) {\r\n    if (global.data[i].id === id) {\r\n      global.data[i].name = req.body.name;\r\n      global.data[i].email = req.body.email;\r\n      global.data[i].date = req.body.date;\r\n      global.data[i].dept = req.body.dept;\r\n      global.data[i].message = req.body.message;\r\n      return res.status(200)\r\n        .json({\r\n          status: 'Success',\r\n          data: global.data[i],\r\n        });\r\n    }\r\n  }\r\n  res.status(404)\r\n    .json({\r\n      status: 'fail',\r\n      message: 'Not found',\r\n    });\r\n};\r\nexports.deleteRequest = (req, res) => {\r\n  const id = parseInt(req.params.requestId, 10);\r\n  for (let i = 0; i < global.data.length; i += 1) {\r\n    if (global.data[i].id === id) {\r\n      global.data.splice(i, 1);\r\n      return res.status(200)\r\n        .json({\r\n          status: 'Success',\r\n          message: 'Request deleted successfully',\r\n        });\r\n    }\r\n  }\r\n  res.status(404)\r\n    .json({\r\n      status: 'Fail',\r\n      message: 'Not found',\r\n    });\r\n};\r\n"]}