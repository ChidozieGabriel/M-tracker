{"version":3,"sources":["../../../api/controllers/filterController.js"],"names":["exports","getAllPendingRequests","req","res","sql","text","db","query","err","result","status","json","end","user","userInfo","rows","getAllApprovedRequests","getAllDisapprovedRequests","getAllResolvedRequests"],"mappings":";;AAAA;;;;;;AAEAA,QAAQC,qBAAR,GAAgC,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC5C,MAAMC,MAAM;AACVC,UAAM;AADI,GAAZ;AAGAC,sBAAGC,KAAH,CAASH,GAAT,EAAc,UAACI,GAAD,EAAMC,MAAN,EAAiB;AAC7B,QAAID,GAAJ,EAAS;AACP,aAAOL,IAAIO,MAAJ,CAAW,GAAX,EACJC,IADI,CACC;AACJH;AADI,OADD,EAIJI,GAJI,EAAP;AAKD;AACDT,QAAIO,MAAJ,CAAW,GAAX,EACGC,IADH,CACQ;AACJE,YAAMX,IAAIY,QADN;AAEJL,cAAQA,OAAOM;AAFX,KADR;AAKD,GAbD;AAcD,CAlBD;;AAoBAf,QAAQgB,sBAAR,GAAiC,UAACd,GAAD,EAAMC,GAAN,EAAc;AAC7C,MAAMC,MAAM;AACVC,UAAM;AADI,GAAZ;AAGAC,sBAAGC,KAAH,CAASH,GAAT,EAAc,UAACI,GAAD,EAAMC,MAAN,EAAiB;AAC7B,QAAID,GAAJ,EAAS;AACP,aAAOL,IAAIO,MAAJ,CAAW,GAAX,EACJC,IADI,CACC;AACJH;AADI,OADD,EAIJI,GAJI,EAAP;AAKD;AACDT,QAAIO,MAAJ,CAAW,GAAX,EACGC,IADH,CACQ;AACJE,YAAMX,IAAIY,QADN;AAEJL,cAAQA,OAAOM;AAFX,KADR;AAKD,GAbD;AAcD,CAlBD;;AAoBAf,QAAQiB,yBAAR,GAAoC,UAACf,GAAD,EAAMC,GAAN,EAAc;AAChD,MAAMC,MAAM;AACVC,UAAM;AADI,GAAZ;AAGAC,sBAAGC,KAAH,CAASH,GAAT,EAAc,UAACI,GAAD,EAAMC,MAAN,EAAiB;AAC7B,QAAID,GAAJ,EAAS;AACP,aAAOL,IAAIO,MAAJ,CAAW,GAAX,EACJC,IADI,CACC;AACJH;AADI,OADD,EAIJI,GAJI,EAAP;AAKD;AACDT,QAAIO,MAAJ,CAAW,GAAX,EACGC,IADH,CACQ;AACJE,YAAMX,IAAIY,QADN;AAEJL,cAAQA,OAAOM;AAFX,KADR;AAKD,GAbD;AAcD,CAlBD;;AAoBAf,QAAQkB,sBAAR,GAAiC,UAAChB,GAAD,EAAMC,GAAN,EAAc;AAC7C,MAAMC,MAAM;AACVC,UAAM;AADI,GAAZ;AAGAC,sBAAGC,KAAH,CAASH,GAAT,EAAc,UAACI,GAAD,EAAMC,MAAN,EAAiB;AAC7B,QAAID,GAAJ,EAAS;AACP,aAAOL,IAAIO,MAAJ,CAAW,GAAX,EACJC,IADI,CACC;AACJH;AADI,OADD,EAIJI,GAJI,EAAP;AAKD;AACDT,QAAIO,MAAJ,CAAW,GAAX,EACGC,IADH,CACQ;AACJE,YAAMX,IAAIY,QADN;AAEJL,cAAQA,OAAOM;AAFX,KADR;AAKD,GAbD;AAcD,CAlBD","file":"filterController.js","sourcesContent":["import db from '../models/userModel';\r\n\r\nexports.getAllPendingRequests = (req, res) => {\r\n  const sql = {\r\n    text: 'SELECT * FROM requests ORDER BY status=\\'pending\\' desc',\r\n  };\r\n  db.query(sql, (err, result) => {\r\n    if (err) {\r\n      return res.status(500)\r\n        .json({\r\n          err,\r\n        })\r\n        .end();\r\n    }\r\n    res.status(200)\r\n      .json({\r\n        user: req.userInfo,\r\n        result: result.rows,\r\n      });\r\n  });\r\n};\r\n\r\nexports.getAllApprovedRequests = (req, res) => {\r\n  const sql = {\r\n    text: 'SELECT * FROM requests ORDER BY status=\\'approved\\' desc',\r\n  };\r\n  db.query(sql, (err, result) => {\r\n    if (err) {\r\n      return res.status(500)\r\n        .json({\r\n          err,\r\n        })\r\n        .end();\r\n    }\r\n    res.status(200)\r\n      .json({\r\n        user: req.userInfo,\r\n        result: result.rows,\r\n      });\r\n  });\r\n};\r\n\r\nexports.getAllDisapprovedRequests = (req, res) => {\r\n  const sql = {\r\n    text: 'SELECT * FROM requests ORDER BY status=\\'disapproved\\' desc',\r\n  };\r\n  db.query(sql, (err, result) => {\r\n    if (err) {\r\n      return res.status(500)\r\n        .json({\r\n          err,\r\n        })\r\n        .end();\r\n    }\r\n    res.status(200)\r\n      .json({\r\n        user: req.userInfo,\r\n        result: result.rows,\r\n      });\r\n  });\r\n};\r\n\r\nexports.getAllResolvedRequests = (req, res) => {\r\n  const sql = {\r\n    text: 'SELECT * FROM requests ORDER BY status=\\'resolved\\' desc',\r\n  };\r\n  db.query(sql, (err, result) => {\r\n    if (err) {\r\n      return res.status(500)\r\n        .json({\r\n          err,\r\n        })\r\n        .end();\r\n    }\r\n    res.status(200)\r\n      .json({\r\n        user: req.userInfo,\r\n        result: result.rows,\r\n      });\r\n  });\r\n};\r\n"]}