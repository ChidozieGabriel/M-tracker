{"version":3,"sources":["../../../api/tests/adminRoutes.spec.js"],"names":["_chai","require","_chai2","_interopRequireDefault","_supertest","_supertest2","_chaiHttp","_chaiHttp2","_app","_app2","obj","__esModule","default","server","agent","Expect","expect","use","global","tok","before","done","request","post","send","email","password","end","err","res","body","token","describe","it","get","set","Authorization","statusCode","to","equal","be","an","put"],"mappings":"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","file":"adminRoutes.spec.js","sourcesContent":["'use strict';\r\n\r\nvar _chai = require('chai');\r\n\r\nvar _chai2 = _interopRequireDefault(_chai);\r\n\r\nvar _supertest = require('supertest');\r\n\r\nvar _supertest2 = _interopRequireDefault(_supertest);\r\n\r\nvar _chaiHttp = require('chai-http');\r\n\r\nvar _chaiHttp2 = _interopRequireDefault(_chaiHttp);\r\n\r\nvar _app = require('../../app');\r\n\r\nvar _app2 = _interopRequireDefault(_app);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n  return obj && obj.__esModule ? obj : { default: obj };\r\n}\r\n\r\nvar server = _supertest2.default.agent(_app2.default);\r\n\r\n// import { Pool } from 'pg';\r\n\r\n// import db from '../models/userModel';\r\n\r\nvar Expect = _chai2.default.expect;\r\n\r\n_chai2.default.use(_chaiHttp2.default);\r\n\r\n// let token = null;\r\nglobal.tok = null;\r\nbefore(function (done) {\r\n  _chai2.default.request(_app2.default).post('/api/v1/auth/login').send({\r\n    email: 'admin@admin.com',\r\n    password: '123456'\r\n  }).end(function (err, res) {\r\n    global.tok = res.body.token;\r\n    done();\r\n  });\r\n});\r\n\r\n// afterEach((done) => {\r\n//   pool.query('DROP DATABASE \"testRunning\"', (err, results) => {\r\n//     if (err) {\r\n//       return err;\r\n//     }\r\n//     pool.end();\r\n//   });\r\n//   return done();\r\n// });\r\n\r\ndescribe('ADMIN ROUTES', function () {\r\n  it('Should list ALL requests', function (done) {\r\n    _chai2.default.request(_app2.default).get('/api/v1/requests/').set({ Authorization: 'Bearer ' + global.tok }).end(function (err, res) {\r\n      Expect(res.statusCode).to.equal(200);\r\n      Expect(res).to.be.an('object');\r\n    });\r\n    done();\r\n  });\r\n\r\n  it('Should list approve a request', function (done) {\r\n    _chai2.default.request(_app2.default).put('/api/v1/requests/1/approve').set({ Authorization: 'Bearer ' + global.tok }).end(function (err, res) {\r\n      Expect(res.statusCode).to.equal(200);\r\n    });\r\n    done();\r\n  });\r\n\r\n  it('Should list Disapprove a request', function (done) {\r\n    _chai2.default.request(_app2.default).put('/api/v1/requests/1/disapprove').set({ Authorization: 'Bearer ' + global.tok }).end(function (err, res) {\r\n      Expect(res.statusCode).to.equal(200);\r\n    });\r\n    done();\r\n  });\r\n\r\n  it('Should list Resolve a request', function (done) {\r\n    _chai2.default.request(_app2.default).put('/api/v1/requests/1/resolve').set({ Authorization: 'Bearer ' + global.tok }).end(function (err, res) {\r\n      Expect(res.statusCode).to.equal(200);\r\n    });\r\n    done();\r\n  });\r\n});\r\n//# sourceMappingURL=adminRoutes.spec.js.map\r\n//# sourceMappingURL=adminRoutes.spec.js.map"]}