{"version":3,"sources":["../../../api/middleware/userAuth.js"],"names":["Object","defineProperty","exports","value","_jsonwebtoken","require","_jsonwebtoken2","_interopRequireDefault","obj","__esModule","default","req","res","next","verify","token","process","env","JWT_KEY","err","decoded","status","json","message","userInfo"],"mappings":"AAAA;;AAEAA,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,SAAO;AADoC,CAA7C;;AAIA,IAAIC,gBAAgBC,QAAQ,cAAR,CAApB;;AAEA,IAAIC,iBAAiBC,uBAAuBH,aAAvB,CAArB;;AAEA,SAASG,sBAAT,CAAgCC,GAAhC,EAAqC;AACnC,SAAOA,OAAOA,IAAIC,UAAX,GAAwBD,GAAxB,GAA8B,EAAEE,SAASF,GAAX,EAArC;AACD;;AAEDN,QAAQQ,OAAR,GAAkB,UAAUC,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAC1CP,iBAAeI,OAAf,CAAuBI,MAAvB,CAA8BH,IAAII,KAAlC,EAAyCC,QAAQC,GAAR,CAAYC,OAArD,EAA8D,UAAUC,GAAV,EAAeC,OAAf,EAAwB;AACpF,QAAID,GAAJ,EAAS;AACPP,UAAIS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBC,iBAAS;AADU,OAArB;AAGD;AACDZ,QAAIa,QAAJ,GAAeJ,OAAf;AACD,GAPD;AAQAP;AACD,CAVD;AAWA;AACA","file":"userAuth.js","sourcesContent":["'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _jsonwebtoken = require('jsonwebtoken');\r\n\r\nvar _jsonwebtoken2 = _interopRequireDefault(_jsonwebtoken);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n  return obj && obj.__esModule ? obj : { default: obj };\r\n}\r\n\r\nexports.default = function (req, res, next) {\r\n  _jsonwebtoken2.default.verify(req.token, process.env.JWT_KEY, function (err, decoded) {\r\n    if (err) {\r\n      res.status(401).json({\r\n        message: 'Authentication failed'\r\n      });\r\n    }\r\n    req.userInfo = decoded;\r\n  });\r\n  next();\r\n};\r\n//# sourceMappingURL=userAuth.js.map\r\n//# sourceMappingURL=userAuth.js.map"]}